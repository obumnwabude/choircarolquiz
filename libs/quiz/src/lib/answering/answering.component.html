<mat-progress-bar
  color="accent"
  mode="determinate"
  [value]="((currentQ + 1) / questions.length) * 100"
></mat-progress-bar>

<p class="countdown mat-elevation-z1" [class.red-countdown]="secondsLeft < 10">
  <span class="text-lg">Time Left:&nbsp;</span>
  <span
    class="font-bold text-2xl"
    [class.blinker]="secondsLeft < 10 && secondsLeft > 0"
    >00:{{ secondsLeft | number: '2.0-0' }}</span
  >
</p>

<div class="max-w-screen-sm mx-auto mt-20 mb-12 px-8">
  <h2 class="font-bold text-2xl underline">
    Question {{ currentQ + 1 }} of {{ questions.length }}
  </h2>
  <p class="mb-8 select-none">{{ questions[currentQ].value }}</p>
  <mat-radio-group (ngModel)="(selectedAnswer)">
    <div
      *ngFor="let answer of answers"
      class="
        answer
        py-3
        px-4
        mb-5
        mx-auto
        border-2 border-gray-300
        flex
        items-center
      "
      (click)="selectAnswer(answer.index)"
      [class.selected]="answer.index === selectedAnswer"
      [class.correct]="
        answer.index === selectedIndex && answer.index === correctIndex
      "
      [class.wrong]="
        answer.index === selectedIndex && answer.index !== correctIndex
      "
      [class.correct-inform]="
        answer.index !== selectedIndex && answer.index === correctIndex
      "
    >
      <mat-radio-button
        [value]="answer.index"
        [checked]="answer.checked"
        *ngIf="!isInCheck"
      ></mat-radio-button>
      <span
        *ngIf="
          isInCheck &&
          answer.index !== selectedIndex &&
          answer.index !== correctIndex
        "
        class="space-filler"
      ></span>
      <mat-icon
        *ngIf="isInCheck && answer.index === correctIndex"
        class="correct-icon"
        >task_alt</mat-icon
      >
      <mat-icon
        *ngIf="
          isInCheck &&
          answer.index === selectedIndex &&
          answer.index !== correctIndex
        "
        class="wrong-icon"
        >highlight_off</mat-icon
      >
      <span class="select-none">{{ answer.value }}</span>
    </div>
  </mat-radio-group>

  <div class="text-center pt-2">
    <button
      mat-raised-button
      color="accent"
      *ngIf="!isInCheck"
      [disabled]="selectedAnswer === ''"
    >
      Check
    </button>
    <button mat-raised-button color="accent" *ngIf="isInCheck">Next</button>
  </div>
</div>
